<html>
  <head>
    <script>
      const createElement = (nodeName, content, className) => {
        const element = document.createElement(nodeName);
        element.innerText = content;
        element.classList.add(className);

        return element;
      };

      const createPerson = (name, age) => {
        const personName = createElement("p", name, "person-name");
        const personAge = createElement("p", age, "person-age");
        const person = createElement("div", "", "person");

        person.appendChild(personName);
        person.appendChild(personAge);

        return person;
      };

      const createEmailId = (fullName, age) => {
        const emaiId = `${fullName}${age}@gmail.com`;

        return createElement("p", emaiId, "email-id");
      };

      const createPersonCredential = (name, age) => {
        const person = createPerson(name, age);
        const emailId = createEmailId(name, age);

        return { person, emailId };
      };

      const getNameContainer = () => document.querySelector(".person");

      const createNameElement = () => document.createElement("div");

      const displayName = (name) => {
        const nameContainer = getNameContainer();
        const nameElement = createNameElement();
        nameElement.innerText = name;

        nameContainer.appendChild(nameElement);
      };

      const delayedPrompt = (promptMsg, cb, timeout = 1000) => {
        setTimeout(() => {
          const promptValue = prompt(promptMsg);
          cb(promptValue);
        }, timeout);
      };

      const collectNames = () => {
        delayedPrompt("Enter your name", (name) => {
          if (name === null) return;
          console.log(name);
          displayName(name);
          collectNames();
        });
      };

      window.onload = () => collectNames();
    </script>
  </head>
  <body>
    <div class="person"></div>
  </body>
</html>
